import { includes } from 'lodash';
import React from 'react';
import { FlatList, StyleSheet, TouchableOpacity } from 'react-native';
import Icon from 'react-native-vector-icons/MaterialIcons';

const darkColors = [
  '#000000',
  '#0C090A',
  '#2B1B17',
  '#25383C',
  '#413839',
  '#4C4646',
  '#5C5858',
  '#2B547E',
  '#151B54',
  '#15317E',
  '#0000A0',
  '#0041C2',
  '#307D7E',
  '#4E8975',
  '#483C32',
  '#835C3B',
  '#7F462C',
  '#9F000F',
  '#8C001A',
  '#7E3517',
  '#7E3817',
  '#810541',
  '#6A287E',
  '#E238EC',
  '#A74AC7',
  '#8D38C9',
  '#9E7BFF',
  '#461B7E',
];

export const isDarkBackground = (color) => includes(darkColors, color);

export const ColorPicker = ({
  colors = [
    '#FFFFFF',
    '#F8F8F8',
    '#FFF5EE',
    '#F0F8FF',
    '#000000',
    '#0C090A',
    '#2B1B17',
    '#25383C',
    '#413839',
    '#4C4646',
    '#5C5858',
    '#726E6D',
    '#848482',
    '#D1D0CE',
    '#98AFC7',
    '#657383',
    '#646D7E',
    '#737CA1',
    '#2B547E',
    '#151B54',
    '#15317E',
    '#0000A0',
    '#0041C2',
    '#1569C7',
    '#1F45FC',
    '#736AFF',
    '#357EC7',
    '#488AC7',
    '#659EC7',
    '#95B9C7',
    '#2B65EC',
    '#157DEC',
    '#6495ED',
    '#38ACEC',
    '#03A9F4',
    '#3BB9FF',
    '#79BAEC',
    '#82CAFF',
    '#B7CEEC',
    '#C2DFFF',
    '#AFDCEC',
    '#BDEDFF',
    '#E0FFFF',
    '#CCFFFF',
    '#9AFEFF',
    '#00FFFF',
    '#57FEFF',
    '#50EBEC',
    '#81D8D0',
    '#77BFC7',
    '#48CCCD',
    '#46C7C7',
    '#43BFC7',
    '#3EA99F',
    '#438D80',
    '#307D7E',
    '#4E8975',
    '#848b79',
    '#254117',
    '#347235',
    '#347C17',
    '#4E9258',
    '#3EA055',
    '#54C571',
    '#89C35C',
    '#FFF8C6',
    '#F5F5DC',
    '#FAEBD7',
    '#ECE5B6',
    '#FFDB58',
    '#F2BB66',
    '#FBB117',
    '#DEB887',
    '#C9BE62',
    '#D4A017',
    '#C7A317',
    '#B5A642',
    '#CD7F32',
    '#C58917',
    '#966F33',
    '#827839',
    '#786D5F',
    '#483C32',
    '#835C3B',
    '#7F462C',
    '#C85A17',
    '#E56717',
    '#F87217',
    '#E67451',
    '#F88158',
    '#E78A61',
    '#E77471',
    '#E55451',
    '#FF0000',
    '#F62817',
    '#E41B17',
    '#C34A2C',
    '#C04000',
    '#9F000F',
    '#8C001A',
    '#7E3517',
    '#7E3817',
    '#810541',
    '#7E354D',
    '#7F4E52',
    '#7F525D',
    '#C5908E',
    '#C48793',
    '#ECC5C0',
    '#FDD7E4',
    '#FFDFDD',
    '#FAAFBE',
    '#F9A7B0',
    '#E799A3',
    '#F778A1',
    '#F660AB',
    '#F6358A',
    '#E45E9D',
    '#F535AA',
    '#E3319D',
    '#D16587',
    '#CA226B',
    '#C12267',
    '#C12283',
    '#7E587E',
    '#583759',
    '#614051',
    '#6A287E',
    '#E238EC',
    '#A74AC7',
    '#6C2DC7',
    '#8D38C9',
    '#7F38EC',
    '#893BFF',
    '#A23BEC',
    '#C45AEC',
    '#9E7BFF',
    '#461B7E',
    '#C8A2C8',
    '#E0B0FF',
    '#F9B7FF',
    '#E9CFEC',
    '#E3E4FA',
  ],
  onSelect,
  selectedColor,
}) => (
  <FlatList
    data={colors}
    renderItem={({ item }) => (
      <TouchableOpacity
        style={[styles.circle, { backgroundColor: item }]}
        onPress={() => {
          onSelect(item);
        }}
      >
        {selectedColor === item && <Icon name="check" style={styles.icon} />}
      </TouchableOpacity>
    )}
    keyExtractor={(item, index) => `key${index}`}
    horizontal
    keyboardShouldPersistTaps="always"
    style={{ maxHeight: 75 }}
  />
);

const styles = StyleSheet.create({
  circle: {
    width: 45,
    height: 45,
    borderRadius: 45,
    margin: 10,
    justifyContent: 'center',
    alignItems: 'center',
    shadowColor: '#000',
    elevation: 4,
  },
  icon: { color: '#fff', fontSize: 24 },
});
